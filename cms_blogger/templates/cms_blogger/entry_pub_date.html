{% spaceless %}
<div class="date">
    <script type="text/javascript">
        if (Date._short_months === undefined){
            Date._short_months = ["JAN", "FEB", "MAR", "APR", "MAY", "JUN", "JUL", "AUG", "SEP", "OCT", "NOV", "DEC"];
            Date.prototype.getShortMonthString = function () {
                return Date._short_months[this.getMonth()];
            };
            Date.prototype.get2DigitDayString = function () {
                var day = this.getDate();
                return day > 9 ? "" + day: "0" + day;
            };
        }
        var {{date_var}} = new Date({{utc_millis}});
    </script>
    <div class="month" id="month_{{date_var}}">
    </div>
    <div class="day" id="day_{{date_var}}">
    </div>
    {% if show_year %}
    <div class="year" id="year_{{date_var}}">
    </div>
    {% endif %}
    <script type="text/javascript">
    document.getElementById('month_{{date_var}}').innerHTML = {{date_var}}.getShortMonthString();
    document.getElementById('day_{{date_var}}').innerHTML = {{date_var}}.get2DigitDayString();
    {% if show_year %}
    document.getElementById('year_{{date_var}}').innerHTML = {{date_var}}.getYear() < (new Date()).getYear() ? {{date_var}}.getFullYear() : "";
    {% endif %}
    </script>
</div>
{% endspaceless %}
